---
title: 全站https化&全方位SEO优化！焕然一新喔～
date: 2018-04-13 23:46:36
tags:
---

### 前言

最近学习一些信息安全和计算机网络方面的知识，知道了`http`和`https`的差距，现在全网各大网站和平台都在进行全站`https`化，所以我准备把我的[fuujiro's land](https://blog.fuujiro.com/)也实现一波全站https化。除了这个之外，我也打算对我的blog进行`SEO`优化。`SEO`优化这是门大学问，不论是我这样的小小blog，还是大厂的页面，都会试图让自家的产品和网站出现在搜索引擎最靠前的位置，`SEO`优化大概就是在干这样一件事～



### 1. 实现全站`https`化

#### 1.1 为什么要进行`https`化 

先说说`http`和`https`的区别：
> HTTP协议传输的数据都是未加密的，也就是明文的，因此使用HTTP协议传输隐私信息非常不安全，为了保证这些隐私数据能加密传输，于是网景公司设计了SSL（Secure Sockets Layer）协议用于对HTTP协议传输的数据进行加密，从而就诞生了HTTPS。简单来说，HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，要比http协议安全。

其中HTTPS和HTTP的区别主要如下：

1. https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。
2. http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。
3. http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。
4. http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。


所以～尽管HTTPS并非绝对安全，掌握根证书的机构、掌握加密算法的组织同样可以进行中间人形式的攻击，但HTTPS仍是现行架构下最安全的解决方案，主要有以下几个好处：

* 使用HTTPS协议可认证用户和服务器，确保数据发送到正确的客户机和服务器；
* HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，要比http协议安全，可防止数据在传输过程中不被窃取、改变，确保数据的完整性。
* HTTPS是现行架构下最安全的解决方案，虽然不是绝对安全，但它大幅增加了中间人攻击的成本。
* 谷歌曾在2014年8月份调整搜索引擎算法，并称“比起同等HTTP网站，采用HTTPS加密的网站在搜索结果中的排名将会更高”。

So，大家赶紧一起撸起袖子把自己的网站 or 博客实现全站`https`化吧！！

#### 1.2 所需要的工具和基础：

* 仓库：`Github`
* Hexo 博客主题：`Apollo`
* 评论插件：`Disqus`
* SSL证书 & 服务器：`CloudFlare`
* 个人域名(腾讯云)一个

> 注意：如果你的hexo blog并没有自己额外购买的独立域名如`fuujiro.com`，在使用`GitHub Pages`自带的`yourname.github.io`，那么其实你是不需要进行`手动https`，因为`*GitHub Pages`自带`https`优化了。买独立域名的优势是可以让搜索引擎检索到，比如百度这种公司是不检索`github.io`的...

#### 1.3 步骤

现在默认已经将博客搭好了，也链接上了自己的独立域名，如果没有，请参考我的另一篇博客：[使用Hexo框架+Apollo主题搭建博客](https://blog.fuujiro.com/2018/02/14/%E4%BD%BF%E7%94%A8Hexo%E6%A1%86%E6%9E%B6-Apollo%E4%B8%BB%E9%A2%98%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/)

##### 1.3.1 注册一个`CloudFlare`账户

1. 首先进入[cloudflare](https://www.cloudflare.com/)，注册好你的账户，然后绑好你的个人域名。教程：[如何注册使用cloudfare？](http://www.wugongqi.cn/2700.html)

2. 进行完第一步的基本操作后，你会得到`cloudfare`赏给你的两个服务器DNS地址：

![DNS](https://raw.githubusercontent.com/fuujiro/pictures/master/对网站进行全方位SEO优化/DeepinScreenshot_select-area_20180413102513.png)

把这两个地址copy好，打开你购买你的域名的服务商，比如我用的是腾讯云。按下面步骤操作，其他网站也大同小异，就是修改一下域名的DNS服务器。

![tencentYUN](https://raw.githubusercontent.com/fuujiro/pictures/master/对网站进行全方位SEO优化/DeepinScreenshot_select-area_20180427205201.png)

![tencentYUN](https://raw.githubusercontent.com/fuujiro/pictures/master/对网站进行全方位SEO优化/a_20180413103553.png)

最后，使用[whois工具](https://www.whois.net/)查看是否已经更改服务器成功。

>更改之前(我的域名是腾讯云购买的，所以云解析的服务器也是腾讯云)。

![aliyun](https://raw.githubusercontent.com/fuujiro/pictures/master/%E5%AF%B9%E7%BD%91%E7%AB%99%E8%BF%9B%E8%A1%8C%E5%85%A8%E6%96%B9%E4%BD%8DSEO%E4%BC%98%E5%8C%96/DeepinScreenshot_select-area_20180413102311.png)

>更改以后，服务器DNS解析转移到cloudfare服务器。

![cloudfare](https://raw.githubusercontent.com/fuujiro/pictures/master/%E5%AF%B9%E7%BD%91%E7%AB%99%E8%BF%9B%E8%A1%8C%E5%85%A8%E6%96%B9%E4%BD%8DSEO%E4%BC%98%E5%8C%96/DeepinScreenshot_select-area_20180427203932.png)

这意味着你去成功了，这时候进入`cloudfare`主页，你的域名的状态就是`Active`了(可能`cloudfare`因为服务器缓存的原因，会晚几小时，不过如果whois查看已修改了，基本没有问题)，就像下面这样。

---
**注意**：以下所有操作的前提建立在，域名的状态是`Active`：

![Active](https://raw.githubusercontent.com/fuujiro/pictures/master/对网站进行全方位SEO优化/DeepinScreenshot_select-area_20180413102540.png)

如果域名状态还未变绿，说明你还不够成熟，请您继续上面两步的操作。因为你继续下去也不会有结果，就像你死缠难打也不会有女朋友一样。

---

3. 接下来，就是cloudfare的优化操作了。

* 实现全站`https`化

![first](https://raw.githubusercontent.com/fuujiro/pictures/master/%E5%AF%B9%E7%BD%91%E7%AB%99%E8%BF%9B%E8%A1%8C%E5%85%A8%E6%96%B9%E4%BD%8DSEO%E4%BC%98%E5%8C%96/DeepinScreenshot_select-area_20180427211022.png)

![first](https://raw.githubusercontent.com/fuujiro/pictures/master/对网站进行全方位SEO优化/DeepinScreenshot_select-area_20180427211140.png)

* 实现网站加速（关于`Page Rules`可以搜索引擎了解）

![second](https://raw.githubusercontent.com/fuujiro/pictures/master/%E5%AF%B9%E7%BD%91%E7%AB%99%E8%BF%9B%E8%A1%8C%E5%85%A8%E6%96%B9%E4%BD%8DSEO%E4%BC%98%E5%8C%96/DeepinScreenshot_select-area_20180427210836.png)

至此，你重新刷新的网站or博客页面，域名地址左侧出现绿色小锁标识，恭喜你，你已经实现`https`化。至于全站`https`化，请保持你网站上所有引用的图片链接，也必须是https网站的，否则无法实现全站`https`化，实现`https`后的[fuujiro's island](https://blog.fuujiro.com/)：

![fuujiro's island](https://raw.githubusercontent.com/fuujiro/pictures/master/%E5%AF%B9%E7%BD%91%E7%AB%99%E8%BF%9B%E8%A1%8C%E5%85%A8%E6%96%B9%E4%BD%8DSEO%E4%BC%98%E5%8C%96/DeepinScreenshot_google-chrome_20180427212529.png)

### 2. 全方位`SEO`优化

---
未完待续...