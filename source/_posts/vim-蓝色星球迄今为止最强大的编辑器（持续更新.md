---
title: Vim-蓝色星球迄今为止最强大的编辑器（持续更新
date: 2018-03-10 22:06:11
tags:
---

### 1. 故事 - “编辑器之神”

为什么`Vim`被称为编辑器之神？话说啊，远古时候，有两大神仙，地上很多猿类大多分成两派，一部分仰慕`Vim`大神，另一部分崇拜`Emacs`大仙，这两派互相挖苦比较，只相信自己的信仰之神是最强大的！~~我呢，暂时站`Vim`神的，不排除以后叛变啦！~~

好了，正经说话吧！高校里教学c语言时，应该是用的`VC++6.0` or `VS2010`，这两个是编辑器嘛？当然，不是的！他们都是集成开发环境（`IDE`，`Integrated Development Environment`）,而`Vim`才是编辑器，与`vim`一起称作编辑器还有啥子呢？比如，`Emacs`（Vim在这个世界上的最强大对手）,`VS code`（Microsoft推出的开源编辑器，是我最近使用的最频繁的编辑器，可以说面对学习曲线陡峭的Vim来说，`VS code`是最容易上手的编辑器，我现在在写的这篇blog就是用`VS code`写的，插件十分丰富，除了由于GUI界面的存在，可能在内存上稍高于`Vim`，但比起鬼畜的`Atom`来说，那是好到不知道哪里去了的存在）,`Atom`（Google推出的开源编辑器，同样因为开源的原因，插件十分丰富）,`Sublime Text`（前端engineer一定经历过的编辑器，插件丰富，性能极优）等等......

好了，你现在肯定会问我，为啥我这次blog只介绍Vim呢？因为，Vim难学啊！这里有一张网上嘲讽几大编辑器的学习曲线～
![vim-line](https://raw.githubusercontent.com/fuujiro/pictures/master/vim操作/主流編輯器學習曲線圖.jpg)

### 2. 学习Vim能给你带来什么？
从图上我们能看出，vim（vi）的学习曲线入门是十分陡峭的，Emacs的略显鬼畜2333～！那，学习Vim对于我来说，到底有什么什么好处呢？我在刚刚学习Vim时，也是有抱着这个疑惑的，后来总是强迫自己去学+在网上了解Vim，我觉得学习对你可能会有这些好处：
* 熟悉命令行工具：Vim是在终端（Terminal）上运行的编辑器，学习Vim无疑你会在命令行下进行频繁操作，而命令行工具对于程序员来说，是十分重要的！也许大部分同学的开发环境大部分还是Windows，使用命令行工具的机会很少！但是以后科研or工作，开发平台就不一定是Windows了，也不一定会有带图形界面的开发工具给你使用。比如：
  * 你科研跑TensorFlow，进行深度学习方面的科研，大概率会需要在linux上跑；做机器学习离不开Linux～我最近在做计算机视觉（Computer Vision）的研究，小方向现在做的是对机械臂进行视觉定位，然而这个机械臂的ROS操作工具，就必须在Linux下进行~～macOS&Windows都没提供~~
  * 你是EE爱好者（robot开发方向的爱好者），而ROS (Robot Operating System, 机器人操作系统) 恰恰只提供给你Linux的开发工具（且只保证Ubuntu（Linux的一个发行版）能够完美兼容），你作为机器人方向开发者，无法避免命令行工具的使用
  * 除了科研界，工程界对于命令行工具的使用不要太多！各大互联网的大厂的每一个开发岗offer，无论你是c/c++/java/python/c#/前端/运维等，哪个岗位要求都会有这么一句“熟悉使用命令行操作工具”or“熟悉shell脚本语言编程”，可以说，使用命令行工具是一位合格的计算机专业大学生应该具有的。

* Vim具有其他编辑器不具有的与生俱来的特殊功能，比如轻松运用SSH（SSH指：. Secure Shell（缩写：SSH），即“安全壳协议”，一项计算机上的安全协议）；Vim内存占用很低，对于开发配置要求极低，比起具有图形界面的VS code，Atom，Sublime来说，可以说能开机的电脑都能顺溜地跑Vim～！

* 最后一个：Vim能帮助乌干达的贫苦儿童，这是个梗2333～！不过，认真讲哦～你用Vim写代码，是在帮助世界上的其他小孩子呢！还有什么理由，不好好写代码233～！
![Uganda](https://raw.githubusercontent.com/fuujiro/pictures/master/vim操作/4170551-f560a9916f58202d.jpg)

相信前面的大串理由，你一定拒绝不了Vim的诱惑，不如和我一起来学习Vim工具吧～啦啦啦～！

### 3. Vim介绍以及如何入门
#### 3.1 Vim和Vi的关系
通过搜索引擎了解一下，就简单黏上来了！自己写的没有这么全面～
~~~
Vim和Vi都是多模式编辑器，不同的是vim 是vi的升级版本，它不仅兼容vi的所有指令，而且还有一些新的特性在里面。
vim的这些优势主要体现在以下几个方面：
1、多级撤消
我们知道在vi里，按`u`只能撤消上次命令，而在vim里可以无限制的撤消。
2、易用性
vi只能运行于unix中，而vim不仅可以运行于unix,windows ,mac等多操作平台。
3、语法加亮
vim可以用不同的颜色来加亮你的代码。
4、可视化操作
就是说vim不仅可以在终端运行，也可以运行于x window、 mac os、 windows。
5、对vi的完全兼容
某些情况下，你可以把vim当成vi来使用。
~~~
所以，我们通常就把Vim包括了Vi啦～！

#### 3.2 Vim安装
按道理来说，现如今的操作系统（除Windows）都已经自带好了Vim。为了避免古老版本只安装Vi的gg情况，我们可以先敲
~~~
$ vim -version
~~~
来确定计算机是否已经安装好了Vim，一般出现的结果就是：
~~~
fuujiro-Mac:~ fuujiro$ vim -version
VIM - Vi IMproved 8.0 (2016 Sep 12, compiled Jul 26 2017 19:10:24)
~~~
如上结果的话，你的计算机就已经安装好了Vim，版本是8.0。
当然如果提示`command not found`，那也不慌，我们装上就好：
* Linux用户：
    因为Linux存在两大派系，Debian和Redhat，对于不同派系，安装命令也不相同。
    ~~~
    ubuntu系统（基于Debian）：
    普通用户下输入命令：sudo apt-get install vim-gtk
    centos系统（基于Redhat）：
    普通用户下输入命令：yum -y install vim*
    ~~~
* macOS用户：
    macOS是自带Vim的，但由于随系统版本的原因，可能版本落后，那就讲一下Vim的升级吧～！
    我是推荐用Homebrew（Homebrew是一款自由及开放源代码的软件包管理系统，用以简化Mac OS X系统上的软件安装过程）来升级的。
    1. 安装Homebrew
    ~~~
    $ ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
    ~~~
    2. 安装or升级Vim
    ~~~
    安装Vim
    $ brew install vim
    升级Vim
    $ brew update vim
    ~~~
* Windows用户
    Windows因为不是*nix类系统，所以不会自带Vim，不过已经有大牛开发出了vim在Windows上的编辑器-gvim
    * [gvim+w7+vundle安装教程](http://blog.csdn.net/myloveqingmu/article/details/52518563)
   上面这个文章清晰的解释了每一步，跟着做就好。

#### 3.3 Vim入门
##### 3.3.1 vim的基础模式
在使用vim时，主要你会在两个模式下操作：
 * 正常（normal）模式：任何其它模式中都可以通过键盘上的 Esc 键回到正常模式。在这个模式下可以进行命令（commmand）模式操作（按:进入）。例如，wq是保存并退出，q!是强制退出不保存。
 * 输入（insert）模式，输入文本时使用；在正常模式下键入“i”（insert）或“a”（append）即可进入插入模式。这时候一般进行文本编辑工作，例如写代码。

当然除了这两种模式，还有可视（visual）模式：用于选定文本块；可以在正常模式下输入“v”（小写）来按字符选定，输入“V”（大写）来按行选定，或输入“Ctrl-V”来按方块选定。主要的话，还是上面那2种模式用的比较多。

##### 3.3.2 vim的基本操作
你如果是第一次接触命令行，可以在打开终端（open terminal），敲下`vimtutor`然后按下回车，就可以看到（如下图）

![vimtutor](https://raw.githubusercontent.com/fuujiro/pictures/master/vim操作/DeepinScreenshot_select-area_20180331125208.png)

这是vim的学习文档，文档语言取决于你的系统语言，所以不会英语的小伙伴也不必害怕学习vim，毕竟中文文档也是挺丰富的，不过我还是推荐学习好英语的。

好，现在默认大家都已经跟着`vimtutor`过了一遍了，那再复现一下文档里的一些主要的操作。

注意：
* 首先是控制光标移动的方向键，依然还是可以用上下左右键的，不过vim发明者的本意是提高使用者的打字效率，所以推荐`h`,`j`,`k`,`l`这4个键分别，这样你的双手就不用离开主键盘区了，完完全全的效率工具。当然，刚刚开始使用时，你会觉得有点变扭，不过熟悉后你肯定会赞成我这句话的。

* 在插入模式下按`:`键就可以进入命令模式；在命令模式下按`i`就可以进入插入模式。在插入模式下，输入`wq`可以保存并退出文件，按`q!`是强制退出不保存。如果有需要保存的路径，那么就`w`+`空格`+`保存文件的路径`。

总结的详细操作：

#### 命令历史
以:和/开头的命令都有历史纪录，可以首先键入:或/然后按上下箭头来选择某个历史命令。

#### 启动vim
在命令行窗口中输入以下命令即可

vim 直接启动vim

vim filename 打开vim并创建名为filename的文件

#### 文件命令
打开单个文件

vim file

同时打开多个文件

vim file1 file2 file3 ...

在vim窗口中打开一个新文件

:open file

在新窗口中打开文件

:split file

切换到下一个文件

:bn

切换到上一个文件

:bp

查看当前打开的文件列表，当前正在编辑的文件会用[]括起来。

:args

打开远程文件，比如ftp或者share folder

:e ftp://192.168.10.76/abc.txt

:e \\qadrive\test\1.txt

#### vim的模式
正常模式（按Esc或Ctrl+[进入） 左下角显示文件名或为空
插入模式（按i键进入） 左下角显示--INSERT--
可视模式（不知道如何进入） 左下角显示--VISUAL--

#### 导航命令
% 括号匹配

#### 插入命令
i 在当前位置生前插入

I 在当前行首插入

a 在当前位置后插入

A 在当前行尾插入

o 在当前行之后插入一行

O 在当前行之前插入一行

#### 查找命令
/text　　查找text，按n健查找下一个，按N健查找前一个。

?text　　查找text，反向查找，按n健查找下一个，按N健查找前一个。

vim中有一些特殊字符在查找时需要转义　　.*[]^%/?~$

:set ignorecase　　忽略大小写的查找

:set noignorecase　　不忽略大小写的查找

查找很长的词，如果一个词很长，键入麻烦，可以将光标移动到该词上，按*或#键即可以该单词进行搜索，相当于/搜索。而#命令相当于?搜索。

:set hlsearch　　高亮搜索结果，所有结果都高亮显示，而不是只显示一个匹配。

:set nohlsearch　　关闭高亮搜索显示

:nohlsearch　　关闭当前的高亮显示，如果再次搜索或者按下n或N键，则会再次高亮。

:set incsearch　　逐步搜索模式，对当前键入的字符进行搜索而不必等待键入完成。

:set wrapscan　　重新搜索，在搜索到文件头或尾时，返回继续搜索，默认开启。

#### 替换命令
ra 将当前字符替换为a，当期字符即光标所在字符。

s/old/new/ 用old替换new，替换当前行的第一个匹配

s/old/new/g 用old替换new，替换当前行的所有匹配

%s/old/new/ 用old替换new，替换所有行的第一个匹配

%s/old/new/g 用old替换new，替换整个文件的所有匹配

:10,20 s/^/    /g 在第10行知第20行每行前面加四个空格，用于缩进。

ddp 交换光标所在行和其下紧邻的一行。

#### 移动命令
h 左移一个字符
l 右移一个字符，这个命令很少用，一般用w代替。
k 上移一个字符
j 下移一个字符
以上四个命令可以配合数字使用，比如20j就是向下移动20行，5h就是向左移动5个字符，在Vim中，很多命令都可以配合数字使用，比如删除10个字符10x，在当前位置后插入3个！，3a！<Esc>，这里的Esc是必须的，否则命令不生效。

w 向前移动一个单词（光标停在单词首部），如果已到行尾，则转至下一行行首。此命令快，可以代替l命令。

b 向后移动一个单词 2b 向后移动2个单词

e，同w，只不过是光标停在单词尾部

ge，同b，光标停在单词尾部。

^ 移动到本行第一个非空白字符上。

0（数字0）移动到本行第一个字符上，

<HOME> 移动到本行第一个字符。同0健。

$ 移动到行尾 3$ 移动到下面3行的行尾

gg 移动到文件头。 = [[

G（shift + g） 移动到文件尾。 = ]]

f（find）命令也可以用于移动，fx将找到光标后第一个为x的字符，3fd将找到第三个为d的字符。

F 同f，反向查找。

跳到指定行，冒号+行号，回车，比如跳到240行就是 :240回车。另一个方法是行号+G，比如230G跳到230行。

Ctrl + e 向下滚动一行

Ctrl + y 向上滚动一行

Ctrl + d 向下滚动半屏

Ctrl + u 向上滚动半屏

Ctrl + f 向下滚动一屏

Ctrl + b 向上滚动一屏

#### 撤销和重做
u 撤销（Undo）
U 撤销对整行的操作
Ctrl + r 重做（Redo），即撤销的撤销。

#### 删除命令
x 删除当前字符

3x 删除当前光标开始向后三个字符

X 删除当前字符的前一个字符。X=dh

dl 删除当前字符， dl=x

dh 删除前一个字符

dd 删除当前行

dj 删除上一行

dk 删除下一行

10d 删除当前行开始的10行。

D 删除当前字符至行尾。D=d$

d$ 删除当前字符之后的所有字符（本行）

kdgg 删除当前行之前所有行（不包括当前行）

jdG（jd shift + g）   删除当前行之后所有行（不包括当前行）

:1,10d 删除1-10行

:11,$d 删除11行及以后所有的行

:1,$d 删除所有行

J(shift + j)　　删除两行之间的空行，实际上是合并两行。

#### 拷贝和粘贴
yy 拷贝当前行

nyy 拷贝当前后开始的n行，比如2yy拷贝当前行及其下一行。

p  在当前光标后粘贴,如果之前使用了yy命令来复制一行，那么就在当前行的下一行粘贴。

shift+p 在当前行前粘贴

:1,10 co 20 将1-10行插入到第20行之后。

:1,$ co $ 将整个文件复制一份并添加到文件尾部。

正常模式下按v（逐字）或V（逐行）进入可视模式，然后用jklh命令移动即可选择某些行或字符，再按y即可复制

ddp交换当前行和其下一行

xp交换当前字符和其后一个字符

#### 剪切命令
正常模式下按v（逐字）或V（逐行）进入可视模式，然后用jklh命令移动即可选择某些行或字符，再按d即可剪切

ndd 剪切当前行之后的n行。利用p命令可以对剪切的内容进行粘贴

:1,10d 将1-10行剪切。利用p命令可将剪切后的内容进行粘贴。

:1, 10 m 20 将第1-10行移动到第20行之后。

#### 退出命令
:wq 保存并退出

ZZ 保存并退出

:q! 强制退出并忽略所有更改

:e! 放弃所有修改，并打开原来文件。

#### 窗口命令
:split或new 打开一个新窗口，光标停在顶层的窗口上

:split file或:new file 用新窗口打开文件

split打开的窗口都是横向的，使用vsplit可以纵向打开窗口。

Ctrl+ww 移动到下一个窗口

Ctrl+wj 移动到下方的窗口

Ctrl+wk 移动到上方的窗口

关闭窗口

:close 最后一个窗口不能使用此命令，可以防止意外退出vim。

:q 如果是最后一个被关闭的窗口，那么将退出vim。

ZZ 保存并退出。

关闭所有窗口，只保留当前窗口

:only

录制宏

按q键加任意字母开始录制，再按q键结束录制（这意味着vim中的宏不可嵌套），使用的时候@加宏名，比如qa。。。q录制名为a的宏，@a使用这个宏。

#### 执行shell命令
:!command

:!ls 列出当前目录下文件

:!perl -c script.pl 检查perl脚本语法，可以不用退出vim，非常方便。

:!perl script.pl 执行perl脚本，可以不用退出vim，非常方便。

:suspend或Ctrl - Z 挂起vim，回到shell，按fg可以返回vim。

#### 注释命令
perl程序中#开始的行为注释，所以要注释某些行，只需在行首加入#

3,5 s/^/#/g 注释第3-5行

3,5 s/^#//g 解除3-5行的注释

1,$ s/^/#/g 注释整个文档。

:%s/^/#/g 注释整个文档，此法更快。

#### 帮助命令
:help or F1 显示整个帮助
:help xxx 显示xxx的帮助，比如 :help i, :help CTRL-[（即Ctrl+[的帮助）。
:help 'number' Vim选项的帮助用单引号括起
:help <Esc> 特殊键的帮助用<>扩起
:help -t Vim启动参数的帮助用-
：help i_<Esc> 插入模式下Esc的帮助，某个模式下的帮助用模式_主题的模式
帮助文件中位于||之间的内容是超链接，可以用Ctrl+]进入链接，Ctrl+o（Ctrl + t）返回

#### 其他非编辑命令
. 重复前一次命令

:set ruler?　　查看是否设置了ruler，在.vimrc中，使用set命令设制的选项都可以通过这个命令查看

:scriptnames　　查看vim脚本文件的位置，比如.vimrc文件，语法文件及plugin等。

:set list 显示非打印字符，如tab，空格，行尾等。如果tab无法显示，请确定用set lcs=tab:>-命令设置了.vimrc文件，并确保你的文件中的确有tab，如果开启了expendtab，那么tab将被扩展为空格。

Vim教程

* 在Unix系统上 $ vimtutor
* 在Windows系统上 :help tutor

:syntax 列出已经定义的语法项
:syntax clear 清除已定义的语法规则
:syntax case match 大小写敏感，int和Int将视为不同的语法元素
:syntax case ignore 大小写无关，int和Int将视为相同的语法元素，并使用同样的配色方案


最后贴2张Vim的命令大全图，可以留着当壁纸，时不时看几眼，没准就都记住了呢～
![Vim命令图1](https://raw.githubusercontent.com/fuujiro/pictures/master/vim操作/20160712110935064.png)
![Vim命令图2](https://raw.githubusercontent.com/fuujiro/pictures/master/vim操作/343184-20170103184312878-397465891.png)
![Vim命令图3](https://raw.githubusercontent.com/fuujiro/pictures/master/vim操作/175824-20161123224659425-328736487.png)

### 4. Vim的终极配置

vim是一个开放性很强的编辑器，个性化定制很丰富，你可以创建一个完全自我定制的`vimrc`，然后自己选择一些插件安装。不过，我推荐一个高度定制好的vim配置，正在使用的，它不一定是完美的，但的确是一款好用的。那就是`spf13-vim`，它的官方地址是：
* [spf13-vim官网](http://vim.spf13.com/)
* [spf13-vim的GitHUb仓库地址](https://github.com/spf13/spf13-vim)

这两个地址，都有详细的安装介绍，我就不多说了，打字受累，大家可以参考介绍，搭建你自己的vim终极配置！
 
### 5. Vim使用时遇到过的问题及处理方法（持续更新







祝大家使用Vim更加爽快～！在编程的道路上越走越远～！

致谢：
1. [令狐葱@前端笔记](https://linghucong.js.org/2016/04/15/2016-04-15-hexo-github-pages-blog/)
2. [吴润的知乎专栏：cs专业那些事](https://zhuanlan.zhihu.com/p/26625249)
3. [vim常用命令总结 （转)](https://www.cnblogs.com/yangjig/p/6014198.html)
